<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dylan Forsberg - Photographer</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&display=swap">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="header-container">
            <h1 class="logo"><a href="portfolio.html">Dylan Forsberg</a></h1>
            
            <nav>
                <ul class="nav-menu">
                    <li><a href="portfolio.html" class="active">Portfolio</a></li>
                    <li><a href="transmission.html">Transmission Magazine</a></li>
                    <li><a href="video.html">Video</a></li>
                    <li><a href="landscapes.html">Landscapes</a></li>
                    <li><a href="writing.html">Writing</a></li>
                    <li><a href="info.html">Info</a></li>
                </ul>
            </nav>
            
            <div class="social-icons">
                <a href="https://instagram.com/dylanforsberg" target="_blank" aria-label="Instagram">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                </a>
                <a href="https://x.com/dylanforsberg87" target="_blank" aria-label="Twitter">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg>
                </a>
            </div>
        </div>
    </header>

    <main>
        <div class="portfolio-grid" id="portfolio-grid">
            <!-- Portfolio images will be loaded dynamically by JavaScript -->
        </div>
        
        <!-- Lightbox for viewing images -->
        <div class="lightbox" id="lightbox">
            <div class="lightbox-content">
                <button class="close-lightbox">&times;</button>
                <img src="" alt="" id="lightbox-img">
                <div class="lightbox-caption" id="lightbox-caption"></div>
                <button class="lightbox-prev">&#10094;</button>
                <button class="lightbox-next">&#10095;</button>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; <span id="current-year">2025</span> Dylan Forsberg. All rights reserved.</p>
    </footer>

    <script>
        // Portfolio images data
        const portfolioImages = [
            {
                src: 'images/portfolio/FH200006_2l1ahp2.jpg',
                alt: 'Portrait Test',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/F1060142.jpg',
                alt: 'Portrait 2',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/F1010033l.jpg',
                alt: 'Portrait 3',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/000078000020lfix.jpg',
                alt: 'Portrait 4',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/F1030015_2B2.jpg',
                alt: 'Portrait 5',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/F1030027.jpg',
                alt: 'Portrait 6',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/F1040012fix1.jpg',
                alt: 'Portrait 7',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/F1040208.jpg',
                alt: 'Portrait 8',
                caption: 'Portrait Study',
            },
            {
                src: 'images/portfolio/FH100009l0lhp2.jpg',
                alt: 'Portrait 9',
                caption: 'Portrait Study',
            }
        ];

        // Track lightbox state
        let currentLightboxIndex = 0;

        document.addEventListener('DOMContentLoaded', function() {
            const portfolioGrid = document.getElementById('portfolio-grid');
            
            if (portfolioGrid) {
                // Load portfolio images
                loadPortfolioImages();
                
                // Setup lightbox
                initLightbox();
            }
            
            // Set current year in footer
            const currentYearSpan = document.getElementById('current-year');
            if (currentYearSpan) {
                currentYearSpan.textContent = new Date().getFullYear();
            }
        });

        /**
         * Loads portfolio images into the grid
         */
        function loadPortfolioImages() {
            const portfolioGrid = document.getElementById('portfolio-grid');
            
            // Clear any existing items
            portfolioGrid.innerHTML = '';
            
            // Add images to the grid
            portfolioImages.forEach((image, index) => {
                const imageElement = createImageElement(image, index);
                portfolioGrid.appendChild(imageElement);
            });
        }

        /**
         * Creates a portfolio item element
         */
        function createImageElement(image, index) {
            // Create portfolio item container
            const item = document.createElement('div');
            item.className = `portfolio-item ${image.type}`;
            item.dataset.index = index;
            
            // Create image element
            const img = document.createElement('img');
            img.src = image.src;
            img.alt = image.alt;
            
            // Create caption element
            const caption = document.createElement('div');
            caption.className = 'caption';
            caption.textContent = image.caption;
            
            // Add click event for lightbox
            item.addEventListener('click', function() {
                openLightbox(index);
            });
            
            // Append elements to item
            item.appendChild(img);
            item.appendChild(caption);
            
            return item;
        }

        /**
         * Initializes the lightbox functionality
         */
        function initLightbox() {
            const lightbox = document.getElementById('lightbox');
            const closeBtn = document.querySelector('.close-lightbox');
            const prevBtn = document.querySelector('.lightbox-prev');
            const nextBtn = document.querySelector('.lightbox-next');
            
            // Close lightbox when clicked outside of content
            if (lightbox) {
                lightbox.addEventListener('click', function(e) {
                    if (e.target === lightbox) {
                        closeLightbox();
                    }
                });
            }
            
            // Close button click
            if (closeBtn) {
                closeBtn.addEventListener('click', closeLightbox);
            }
            
            // Previous button click
            if (prevBtn) {
                prevBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    navigateLightbox('prev');
                });
            }
            
            // Next button click
            if (nextBtn) {
                nextBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    navigateLightbox('next');
                });
            }
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (!lightbox || !lightbox.classList.contains('active')) return;
                
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowLeft') {
                    navigateLightbox('prev');
                } else if (e.key === 'ArrowRight') {
                    navigateLightbox('next');
                }
            });
        }

        /**
         * Opens the lightbox with the specified image
         */
        function openLightbox(index) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            
            if (!lightbox || !lightboxImg || !lightboxCaption) return;
            
            // Set current index
            currentLightboxIndex = index;
            
            // Get image data
            const image = portfolioImages[index];
            
            // Set image and caption
            lightboxImg.src = image.src;
            lightboxImg.alt = image.alt;
            lightboxCaption.textContent = image.caption;
            
            // Show lightbox
            lightbox.classList.add('active');
            
            // Prevent body scrolling
            document.body.style.overflow = 'hidden';
        }

        /**
         * Closes the lightbox
         */
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            
            if (!lightbox) return;
            
            // Hide lightbox
            lightbox.classList.remove('active');
            
            // Allow body scrolling
            document.body.style.overflow = '';
        }

        /**
         * Navigates to the previous or next image in the lightbox
         */
        function navigateLightbox(direction) {
            // Calculate new index
            let newIndex;
            
            if (direction === 'prev') {
                newIndex = (currentLightboxIndex - 1 + portfolioImages.length) % portfolioImages.length;
            } else {
                newIndex = (currentLightboxIndex + 1) % portfolioImages.length;
            }
            
            // Open lightbox with new index
            openLightbox(newIndex);
        }
    </script>
</body>
</html>